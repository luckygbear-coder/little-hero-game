<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å°å‹‡è€…çŒœæ‹³å¤§æˆ° âš”ï¸</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="game-wrap">
    <h1>å°å‹‡è€…çŒœæ‹³å¤§æˆ° âš”ï¸</h1>
    <p>é¸ä¸€å€‹æ‹³ï¼Œè©¦è‘—å®‰æ’«è¢«å£æƒ…ç·’å½±éŸ¿çš„é­”ç‰©å§ï¼</p>

    <h2 id="monster-name">é­”ç‰©ï¼šå“­å“­å²èŠå§† ğŸ’§</h2>
    <p id="monster-intro">ç‰ è¦ºå¾—æ²’æœ‰äººæ‡‚ç‰ ï¼Œæ‰€ä»¥ä¸€ç›´åœ¨å“­ã€‚</p>

    <div class="btn-row">
      <button data-move="rock">âœŠ çŸ³é ­</button>
      <button data-move="scissors">âœŒï¸ å‰ªåˆ€</button>
      <button data-move="paper">ğŸ– å¸ƒ</button>
    </div>

    <p id="talk-hero"></p>
    <p id="talk-monster"></p>

    <p id="round-result"></p>
    <p id="hp-info"></p>
    <p id="game-info"></p>
  </div>

  <!-- é€™è£¡æ˜¯ JavaScriptï¼šçŒœæ‹³ + é­”ç‰©é‚è¼¯ -->
  <script>
    const monsters = [
      {
        name: "å“­å“­å²èŠå§† ğŸ’§",
        intro: "ç‰ è¦ºå¾—æ²’æœ‰äººæ‡‚ç‰ ï¼Œæ‰€ä»¥ä¸€ç›´åœ¨å“­ã€‚",
        hp: 3,
        negativeLines: [
          "å—šå—šå—šï¼Œæ¯å¤©éƒ½å¥½é›£éâ€¦â€¦",
          "åæ­£æ²’æœ‰äººåœ¨ä¹æˆ‘å•¦ã€‚",
          "ä¸è¦é è¿‘æˆ‘ï¼Œæˆ‘æœƒæŠŠä½ å¼„å¾—é»ç­”ç­”ã€‚"
        ],
        positiveLines: [
          "æ¬¸ï¼Ÿå¥½åƒæœ‰äººé¡˜æ„è½æˆ‘èªªè©±â€¦â€¦",
          "è¬è¬ä½ é—œå¿ƒæˆ‘ï¼Œæˆ‘å¿ƒæƒ…å¥½ä¸€é»äº†ï¼",
          "åŸä¾†æˆ‘ä¹Ÿå¯ä»¥è®Šé–‹å¿ƒï¼Œå—šå—šæ„Ÿå‹•ï½"
        ]
      },
      {
        name: "æš´èºå°ç«é¾ ğŸ”¥",
        intro: "ä¸€ç”Ÿæ°£å°±å™´ç«ï¼Œå…¶å¯¦åªæ˜¯å¾ˆå®³æ€•è¢«æ‹’çµ•ã€‚",
        hp: 3,
        negativeLines: [
          "èª°éƒ½åˆ¥é è¿‘ï¼Œæˆ‘ç¾åœ¨è¶…æš´èºï¼",
          "å“¼ï¼Œå…ˆæ”»æ“Šå†èªªï¼",
          "æˆ‘æ‰ä¸éœ€è¦æœ‹å‹ã€‚"
        ],
        positiveLines: [
          "æ¬¸ï¼Ÿä½ éƒ½ä¸æ€•æˆ‘æ¬¸ã€‚",
          "å¥½å•¦ï¼Œæˆ‘ä¸äº‚å™´ç«äº†â€¦â€¦",
          "ä¹Ÿè¨±æˆ‘å¯ä»¥è©¦è‘—æº«æŸ”ä¸€é»ã€‚"
        ]
      },
      {
        name: "å­¤å–®è™è  ğŸ¦‡",
        intro: "ç¸½æ˜¯èº²åœ¨è§’è½å·å·çœ‹å¤§å®¶ç©ã€‚",
        hp: 3,
        negativeLines: [
          "æˆ‘ç¿’æ…£ä¸€å€‹äººäº†ï¼Œä¸éœ€è¦èª°ã€‚",
          "åˆ¥çœ‹æˆ‘ï¼Œæˆ‘å¾ˆå¥‡æ€ªå•¦ã€‚",
          "æ²’æœ‰äººæœƒæƒ³è·Ÿæˆ‘ç©ã€‚"
        ],
        positiveLines: [
          "ä½ çœŸçš„é¡˜æ„é™ªæˆ‘ç©å—ï¼Ÿ",
          "å¥½ä¹…æ²’æœ‰é€™éº¼é–‹å¿ƒäº†ï¼",
          "è¬è¬ä½ æŠŠæˆ‘å¾é»‘æš—æ´ç©´è£¡å«å‡ºä¾†ã€‚"
        ]
      }
    ];

    const heroLines = [
      "æˆ‘ä¾†é™ªä½ ï¼Œæ²’é—œä¿‚ï¼Œæˆ‘åœ¨é€™è£¡ï¼",
      "ä½ çš„æ„Ÿå—å¾ˆé‡è¦ï¼Œæ…¢æ…¢ä¾†å°±å¥½ï½",
      "ä¸€èµ·ç©å€‹çŒœæ‹³éŠæˆ²ï¼Œå¥½å—ï¼Ÿ",
      "å°±ç®—ç¾åœ¨å¿ƒæƒ…ä¸å¥½ï¼Œä¹Ÿå¯ä»¥ä¸€é»ä¸€æ»´è®Šå¥½ã€‚"
    ];

    const monsterNameEl = document.getElementById("monster-name");
    const monsterIntroEl = document.getElementById("monster-intro");
    const talkHeroEl = document.getElementById("talk-hero");
    const talkMonsterEl = document.getElementById("talk-monster");
    const roundResultEl = document.getElementById("round-result");
    const hpInfoEl = document.getElementById("hp-info");
    const gameInfoEl = document.getElementById("game-info");
    const buttons = document.querySelectorAll("button[data-move]");

    let currentMonsterIndex = 0;
    let currentMonster = null;

    function pickRandom(list) {
      return list[Math.floor(Math.random() * list.length)];
    }

    function setMonster(index) {
      currentMonsterIndex = index;
      // è¤‡è£½ä¸€ä»½ï¼Œé¿å…ç›´æ¥æ”¹åˆ°åŸæœ¬è³‡æ–™
      currentMonster = { ...monsters[index] };

      monsterNameEl.textContent = "é­”ç‰©ï¼š" + currentMonster.name;
      monsterIntroEl.textContent = currentMonster.intro;

      talkHeroEl.textContent = "";
      talkMonsterEl.textContent = "";
      roundResultEl.textContent = "";
      hpInfoEl.textContent = `å£æƒ…ç·’èƒ½é‡ï¼š${currentMonster.hp} é»`;
      gameInfoEl.textContent = `èˆ‡é€™éš»é­”ç‰©ç©çŒœæ‹³ï¼Œè´ ${currentMonster.hp} æ¬¡å°±èƒ½å®‰æ’«ç‰ ã€‚`;
    }

    function moveBeats(move) {
      if (move === "rock") return "scissors";
      if (move === "scissors") return "paper";
      if (move === "paper") return "rock";
    }

    function translateMove(move) {
      if (move === "rock") return "çŸ³é ­";
      if (move === "paper") return "å¸ƒ";
      if (move === "scissors") return "å‰ªåˆ€";
      return "";
    }

    function handleRound(playerMove) {
      if (!currentMonster) return;

      const monsterMoveOptions = ["rock", "paper", "scissors"];
      const monsterMove = pickRandom(monsterMoveOptions);

      // å°è©±
      talkHeroEl.textContent = "å°å‹‡è€…ï¼šã€Œ" + pickRandom(heroLines) + "ã€";
      talkMonsterEl.textContent = "é­”ç‰©ï¼šã€Œ" + pickRandom(currentMonster.negativeLines) + "ã€";

      let resultText = "";

      if (playerMove === monsterMove) {
        resultText = `å¹³æ‰‹ï¼ä½ å‡ºäº† ${translateMove(playerMove)}ï¼Œé­”ç‰©ä¹Ÿæ˜¯ ${translateMove(monsterMove)}ã€‚`;
      } else if (moveBeats(playerMove) === monsterMove) {
        // å°å‹‡è€…å‹åˆ©ï¼Œé­”ç‰©å£æƒ…ç·’ -1
        currentMonster.hp -= 1;
        resultText =
          `ä½ è´äº†ï¼ä½ çš„ ${translateMove(playerMove)} æˆ°å‹äº†é­”ç‰©çš„ ${translateMove(monsterMove)}ã€‚` +
          "å¥½å¿ƒæƒ…èƒ½é‡å‚³é”éå»å›‰ï½";
      } else {
        resultText =
          `é€™å›åˆé­”ç‰©å°è´ï¼Œä½ å‡ºäº† ${translateMove(playerMove)}ï¼Œé­”ç‰©æ˜¯ ${translateMove(monsterMove)}ã€‚` +
          "æ²’é—œä¿‚ï¼Œå†è©¦ä¸€æ¬¡ï¼";
      }

      roundResultEl.textContent = resultText;

      if (currentMonster.hp > 0) {
        hpInfoEl.textContent = `å£æƒ…ç·’èƒ½é‡é‚„å‰©ï¼š${currentMonster.hp} é»`;
      } else {
        // å£æƒ…ç·’æ¸…ç©º
        hpInfoEl.textContent = "å£æƒ…ç·’è¢«å®‰æ’«å®Œäº†ï¼";
        talkMonsterEl.textContent = "é­”ç‰©ï¼šã€Œ" + pickRandom(currentMonster.positiveLines) + "ã€";

        if (currentMonsterIndex < monsters.length - 1) {
          gameInfoEl.textContent =
            "æ­å–œä½ å®‰æ’«äº†é€™éš»é­”ç‰©ï¼ç­‰ä¸€ä¸‹æœƒå‡ºç¾ä¸‹ä¸€éš»é­”ç‰©ï½";
          // ä¸€é»é»å»¶é²ï¼Œå†åˆ‡æ›åˆ°ä¸‹ä¸€éš»
          const nextIndex = currentMonsterIndex + 1;
          currentMonster = null;
          setTimeout(() => {
            setMonster(nextIndex);
          }, 900);
        } else {
          gameInfoEl.textContent =
            "å…¨éƒ¨é­”ç‰©éƒ½è¢«ä½ å®‰æ’«äº†ï¼å°å‹‡è€…ï¼Œä½ å¤ªæ£’äº†ï¼ğŸ‰ é‡æ–°æ•´ç†é é¢å¯ä»¥å†ç©ä¸€æ¬¡ã€‚";
        }
      }
    }

    buttons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const move = btn.getAttribute("data-move");
        handleRound(move);
      });
    });

    // ä¸€é–‹å§‹è¼‰å…¥ç¬¬ä¸€éš»é­”ç‰©
    setMonster(0);
  </script>
</body>
</html>